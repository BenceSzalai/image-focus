!function(i,e,t){function a(e,t){this.element=e,this.options=i.extend({},s,t),this._defaults=s,this._name=o,this.init()}var o="imageFocus",s={},c={imageFocus:{self:"image-focus",wrapper:"image-focus__wrapper",img:"image-focus__img",point:"image-focus__point",clickarea:"image-focus__clickarea"}};a.prototype={init:function(){this.addFocusPoint(),i("."+c.imageFocus.clickarea).on("click",this.moveFocusPoint)},addFocusPoint:function(){console.log("add focuspoint");var e,t=i(".edit-attachment-frame .attachment-media-view .details-image");t.addClass(c.imageFocus.img),t.wrap('<div class="'+c.imageFocus.self+'"><div class="'+c.imageFocus.wrapper+'"></div></div>'),(e=i("."+c.imageFocus.wrapper)).append('<div class="'+c.imageFocus.point+'"></div>'),e.append('<div class="'+c.imageFocus.clickarea+'"></div>')},moveFocusPoint:function(e){var t=i(this).width(),a=i(this).height(),o=(e.pageX-i(this).offset().left)/t*100,s=(e.pageY-i(this).offset().top)/a*100;console.log("percentageX:"+o.toFixed(2)+", percentageY:"+s.toFixed(2)),i("."+c.imageFocus.point).css({left:o+"%",top:s+"%"})}},i.fn[o]=function(e){return this.each(function(){i.data(this,"plugin_"+o)||i.data(this,"plugin_"+o,new a(this,e))})}}(jQuery,window,document),function(i,e,t){i(t).on("ready",function(){setInterval(function(){var e=i(".attachment-details .details-image");if(e.length&&!i(".image-focus").length)try{e.imageFocus()}catch(i){console.log(i)}},500)})}(jQuery,window,document);